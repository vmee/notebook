# 避坑

## 1.数组复制
Go语言中数据是值语义。 一个数组变量即表示整个数组，它并不是隐匿地指向第一个元素的指针，而是一个完整的值。当一个数组变量被赋值或被传递的时候，实际上会复制整个数组。如果数组较大的话，数组的赋值也会有较大的开销。

> #### -- 避坑技巧 ---
> 赋值或传递时，使用数组指针

## 2.添加切片元素可能会导致重新分配内存
切片(Slice)是一种简化版的动态数组。 由于数组的类型和操都不够灵活， 因此在Go代码中数组使用得并不多。而切片的使用却相当广泛，理解切片的原理和用法是Go程序员的必备技能。
因切片的长度不固定，所以切片的长度自然也就不能是类型的组成部分了。
我们用内置的泛型函数append(),可以在切片的尾部追加元素，不要注意的是，在容量不足的情况下，append()操作会导致重新分配内存，可能导致巨大的内存分配和复制数据的代码。
即使容量足够，依然需要用append()函数的返回值来更新切片本身，因为新切片的长度已经发生了变化。
在开头添加元素一般都会导致内存的重新分配，而且会导致已有的元素全部复制一次。因此从切片的开头添加元素的性能一般要比从尾部追加元素的性能差很多。

> #### -- 避坑技巧 ---
> 切片初始化时，尽量设定切片容量大小

### 2.Interface